<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vehicle Details - VijayRentals</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#3b82f6",
              secondary: "#1e40af",
              accent: "#f59e0b",
            },
            fontFamily: {
              poppins: ["Poppins", "sans-serif"],
            },
          },
        },
      };
    </script>
  </head>
  <body class="font-poppins bg-gray-50">
      <style>
          body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
          }
          main {
            flex: 1;
          }
      </style>
    <!-- Navigation -->
    <nav class="bg-white shadow-md sticky top-0 z-50">
      <div class="container mx-auto px-4 py-3 flex justify-between items-center">
        <div class="flex items-center">
          <i class="fas fa-car text-primary text-2xl mr-2"></i>
          <a th:href="@{/index}" class="text-2xl font-bold text-gray-800">
            Vijay<span class="text-primary">Rentals</span>
          </a>
        </div>

        <div class="hidden md:flex space-x-8">
            <a th:href="@{/dashboard}" class="text-gray-600 hover:text-primary transition">Dashboard</a>
            <a th:href="@{/index}" class="text-primary font-medium">Home</a>
            <a th:href="@{/vehicles}" class="text-gray-600 hover:text-primary transition">Vehicles</a>
            <a th:href="@{/bookings}" class="text-gray-600 hover:text-primary transition">Bookings</a>
            <a th:href="@{/maintenance}" class="text-gray-600 hover:text-primary transition">Maintenance</a>
        </div>

        <div class="flex items-center space-x-4">
          <button class="relative text-gray-700">
            <i class="fas fa-bell text-xl"></i>
            <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">3</span>
          </button>
          <a th:href="@{/index}" class="relative text-gray-700 flex items-center">
            <i class="fas fa-user-circle text-2xl"></i>
            <span class="ml-2 hidden sm:inline">Login</span>
          </a>
          <button id="mobile-menu-button" class="md:hidden text-gray-600 focus:outline-none">
            <i class="fas fa-bars text-xl"></i>
          </button>
        </div>
      </div>

      <!-- Mobile Menu -->
      <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-200">
          <a th:href="@{/dashboard}" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Dashboard</a>
          <a th:href="@{/index}" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Home</a>
          <a th:href="@{/vehicles}" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Vehicles</a>
          <a th:href="@{/bookings}" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Bookings</a>
          <a th:href="@{/maintenance}" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Maintenance</a>
      </div>
    </nav>

    <script>
      // Toggle for mobile menu
      const btn = document.getElementById("mobile-menu-button");
      const menu = document.getElementById("mobile-menu");
      btn.addEventListener("click", () => {
        menu.classList.toggle("hidden");
      });
    </script>

    <!-- Vehicle Details Section -->
    <main>
      <section class="py-12">
      <div class="container mx-auto px-4">
        <!-- Breadcrumb -->
          <nav class="text-gray-500 text-sm mb-6">
              <a th:href="@{/vehicles}" class="hover:text-primary">Vehicles</a> /
              <span class="text-gray-700 font-medium" th:text="${vehicle.make + ' ' + vehicle.model}">Toyota Camry</span>
          </nav>


          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">

          <!-- Vehicle Info -->
              <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                  <!-- Vehicle Image -->
                  <div>
                      <img
                              th:src="${vehicle.imageUrl != null ? vehicle.imageUrl : 'uploads/vehicles/default_vehicle.jpeg'}"
                              th:alt="${vehicle.make + ' ' + vehicle.model}"
                              class="rounded-lg shadow-md w-full h-auto"
                      />
                  </div>

                  <!-- Vehicle Info -->
                  <div>
                      <h1 class="text-3xl font-bold mb-2" th:text="${vehicle.make + ' ' + vehicle.model}">Toyota Camry</h1>
                      <p class="text-lg text-primary font-semibold mb-4" th:text="'$' + ${vehicle.pricePerDay} + ' / day'">$45 / day</p>

                      <div class="grid grid-cols-2 gap-4 mb-6">
                          <div class="flex items-center text-gray-700">
                              <i class="fas fa-calendar-alt mr-2 text-primary"></i>
                              Year: <span th:text="${vehicle.year}">2022</span>
                          </div>
                          <div class="flex items-center text-gray-700">
                              <i class="fas fa-tachometer-alt mr-2 text-primary"></i>
                              Mileage: <span th:text="${vehicle.currentMileage + ' km'}">15,240 km</span>
                          </div>
                          <div class="flex items-center text-gray-700">
                              <i class="fas fa-palette mr-2 text-primary"></i>
                              Color: <span th:text="${vehicle.color}">Blue</span>
                          </div>
                          <div class="flex items-center text-gray-700">
                              <i class="fas fa-id-card mr-2 text-primary"></i>
                              License: <span th:text="${vehicle.licensePlate}">MH01AB1234</span>
                          </div>
                          <div class="flex items-center text-gray-700">
                              <i class="fas fa-car-side mr-2 text-primary"></i>
                              Category: <span th:text="${vehicle.category}">Sedan</span>
                          </div>
                          <div class="flex items-center text-gray-700">
                              <i class="fas fa-check-circle mr-2"
                                 th:classappend="${vehicle.status.name() == 'AVAILABLE' ? 'text-green-600' :
                           (vehicle.status.name() == 'RENTED' ? 'text-yellow-600' : 'text-red-600')}"></i>
                              Status: <span th:text="${vehicle.status}">Available</span>
                          </div>
                      </div>

                      <p class="text-gray-600 mb-6" th:text="${vehicle.description != null ? vehicle.description : 'No description available'}">
                          The Toyota Camry offers a comfortable ride, excellent fuel economy,
                          and a spacious interiorâ€”perfect for city and highway drives.
                      </p>

                      <div class="flex gap-4">
                          <a th:href="@{/bookings/new(vehicleId=${vehicle.vehicleId})}"
                             class="flex-1 bg-primary text-white px-6 py-3 rounded-md font-medium hover:bg-secondary transition text-center"
                             th:if="${vehicle.status.name() == 'AVAILABLE'}">
                              <i class="fas fa-calendar-check mr-2"></i>Book Now
                          </a>
                          <button class="flex-1 bg-gray-400 text-white px-6 py-3 rounded-md font-medium cursor-not-allowed"
                                  th:if="${vehicle.status.name() != 'AVAILABLE'}" disabled>
                              <i class="fas fa-ban mr-2"></i>Not Available
                          </button>

                          <a th:href="@{/vehicles/{id}/edit(id=${vehicle.vehicleId})}"
                             class="bg-accent text-white px-6 py-3 rounded-md font-medium hover:bg-yellow-600 transition text-center flex items-center justify-center">
                              <i class="fas fa-edit mr-2"></i>Edit
                          </a>
                      </div>

                  </div>
              </div>

          </div>
      </div>
    </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-300 py-6">
      <div class="container mx-auto px-4 text-center">
        <div class="flex items-center justify-center mb-2">
          <i class="fas fa-car text-primary text-2xl mr-2"></i>
          <span class="text-2xl font-bold">
            Vijay<span class="text-primary">Rentals</span>
          </span>
        </div>
        <p class="text-sm text-gray-400">
          &copy; 2023 VijayRentals. All rights reserved.
        </p>
      </div>
    </footer>
  </body>
</html>