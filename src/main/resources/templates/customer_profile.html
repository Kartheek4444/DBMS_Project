<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments :: head('My Profile - VijayRentals')"></head>
<body class="font-poppins bg-gray-50">
<nav th:replace="fragments :: navbar"></nav>

<main class="min-h-screen py-12">
    <div class="container mx-auto px-4 max-w-4xl">
        <!-- Success Message -->
        <div th:if="${param.success}" class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mb-6">
            <i class="fas fa-check-circle mr-2"></i>Profile updated successfully!
        </div>

        <!-- Profile Header -->
        <div class="bg-white rounded-2xl shadow-lg overflow-hidden mb-6">
            <div class="bg-gradient-to-r from-primary to-secondary h-32"></div>
            <div class="px-8 pb-8">
                <div class="flex flex-col sm:flex-row items-center sm:items-end -mt-16 mb-6">
                    <div class="relative">
                        <img th:src="${customer.avatarUrl != null ? customer.avatarUrl : '/uploads/avatars/default_avatar.png'}"
                             alt="Profile Picture"
                             class="w-32 h-32 rounded-full border-4 border-white shadow-xl object-cover bg-white">
                    </div>
                    <div class="sm:ml-6 mt-4 sm:mt-0 text-center sm:text-left">
                        <h1 class="text-3xl font-bold text-gray-900" th:text="${customer.firstName + ' ' + customer.lastName}">John Doe</h1>
                        <p class="text-gray-600" th:text="${customer.email}">john.doe@example.com</p>
                    </div>
                    <a th:href="@{/profile/edit}" class="sm:ml-auto mt-4 sm:mt-0 bg-primary text-white px-6 py-2 rounded-lg hover:bg-secondary transition">
                        <i class="fas fa-edit mr-2"></i>Edit Profile
                    </a>
                </div>
            </div>
        </div>

        <!-- Personal Information -->
        <div class="bg-white rounded-2xl shadow-lg p-8 mb-6">
            <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center">
                <i class="fas fa-user text-primary mr-3"></i>Personal Information
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="text-sm text-gray-500">First Name</label>
                    <p class="text-gray-900 font-medium" th:text="${customer.firstName}">John</p>
                </div>
                <div>
                    <label class="text-sm text-gray-500">Last Name</label>
                    <p class="text-gray-900 font-medium" th:text="${customer.lastName}">Doe</p>
                </div>
                <div class="col-span-2" th:if="${customer.middleNames != null and !customer.middleNames.isEmpty()}">
                    <label class="text-sm text-gray-500">Middle Name(s)</label>
                    <p class="text-gray-900 font-medium" th:text="${#strings.listJoin(customer.middleNames, ', ')}">James Robert</p>
                </div>
                <div>
                    <label class="text-sm text-gray-500">Date of Birth</label>
                    <p class="text-gray-900 font-medium" th:text="${customer.dateOfBirth != null ? #temporals.format(customer.dateOfBirth, 'dd MMM yyyy') : 'Not provided'}">01 Jan 1990</p>
                </div>
                <div>
                    <label class="text-sm text-gray-500">Phone Number</label>
                    <p class="text-gray-900 font-medium" th:text="${customer.phoneNumber}">+1234567890</p>
                </div>
            </div>
        </div>

        <!-- License Information -->
        <div class="bg-white rounded-2xl shadow-lg p-8 mb-6">
            <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center">
                <i class="fas fa-id-card text-primary mr-3"></i>License Information
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="text-sm text-gray-500">License Number</label>
                    <p class="text-gray-900 font-medium" th:text="${customer.licenseNo != null ? customer.licenseNo : 'Not provided'}">DL123456789</p>
                </div>
                <div>
                    <label class="text-sm text-gray-500">Expiry Date</label>
                    <p class="text-gray-900 font-medium" th:text="${customer.expiryDate != null ? #temporals.format(customer.expiryDate, 'dd MMM yyyy') : 'Not provided'}">31 Dec 2025</p>
                </div>
            </div>
        </div>

        <!-- Address Information -->
        <div class="bg-white rounded-2xl shadow-lg p-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center">
                <i class="fas fa-map-marker-alt text-primary mr-3"></i>Address
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="text-sm text-gray-500">Door/Building No</label>
                    <p class="text-gray-900 font-medium" th:text="${customer.dno != null ? customer.dno : 'Not provided'}">123</p>
                </div>
                <div>
                    <label class="text-sm text-gray-500">Street</label>
                    <p class="text-gray-900 font-medium" th:text="${customer.street != null ? customer.street : 'Not provided'}">Main Street</p>
                </div>
                <div>
                    <label class="text-sm text-gray-500">City</label>
                    <p class="text-gray-900 font-medium" th:text="${customer.city != null ? customer.city : 'Not provided'}">New York</p>
                </div>
                <div>
                    <label class="text-sm text-gray-500">State</label>
                    <p class="text-gray-900 font-medium" th:text="${customer.state != null ? customer.state : 'Not provided'}">NY</p>
                </div>
                <div>
                    <label class="text-sm text-gray-500">PIN Code</label>
                    <p class="text-gray-900 font-medium" th:text="${customer.pinCode != null ? customer.pinCode : 'Not provided'}">10001</p>
                </div>
            </div>
        </div>
    </div>
</main>

<footer th:replace="fragments :: footer"></footer>
</body>
</html>
