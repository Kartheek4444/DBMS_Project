<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Staff - VijayRentals</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: "#3b82f6",
                        secondary: "#1e40af",
                    },
                    fontFamily: {
                        poppins: ["Poppins", "sans-serif"],
                    },
                },
            },
        };
    </script>
</head>
<body class="font-poppins bg-gray-50">
<!-- Navigation -->
<nav class="bg-white shadow-md">
    <div class="container mx-auto px-4 py-3 flex justify-between items-center">
        <div class="flex items-center">
            <i class="fas fa-car text-primary text-2xl mr-2"></i>
            <a th:href="@{/}" class="text-2xl font-bold text-gray-800">
                Vijay<span class="text-primary">Rentals</span>
            </a>
        </div>
        <div class="flex space-x-4">
            <a th:href="@{/admin/dashboard}" class="text-gray-600 hover:text-primary">Admin Dashboard</a>
            <a th:href="@{/dashboard}" class="text-gray-600 hover:text-primary">Dashboard</a>
        </div>
    </div>
</nav>

<!-- Main Content -->
<main class="container mx-auto px-4 py-8">
    <div class="max-w-3xl mx-auto bg-white rounded-lg shadow-md p-8">
        <h1 class="text-3xl font-bold mb-6">
            <i class="fas fa-user-edit text-primary mr-2"></i>Edit Staff Member
        </h1>

        <!-- Success Message -->
        <div th:if="${successMessage}" class="mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded">
            <i class="fas fa-check-circle mr-2"></i>
            <span th:text="${successMessage}"></span>
        </div>

        <!-- Error Message -->
        <div th:if="${errorMessage}" class="mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded">
            <i class="fas fa-exclamation-circle mr-2"></i>
            <span th:text="${errorMessage}"></span>
        </div>

        <form th:action="@{/staff/{id}/update(id=${staff.staffId})}" method="post" th:object="${staff}">
            <!-- First Name and Last Name -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-user mr-1 text-primary"></i>First Name *
                    </label>
                    <input type="text" th:field="*{firstName}" required
                           class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" />
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-user mr-1 text-primary"></i>Last Name *
                    </label>
                    <input type="text" th:field="*{lastName}" required
                           class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" />
                </div>
            </div>

            <!-- Email and Phone -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-envelope mr-1 text-primary"></i>Email *
                    </label>
                    <input type="email" th:field="*{email}" required
                           class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" />
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-phone mr-1 text-primary"></i>Phone *
                    </label>
                    <input type="tel" th:field="*{phone}" required
                           class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" />
                </div>
            </div>

            <!-- Password and Position -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-lock mr-1 text-primary"></i>Password
                        <span class="text-xs text-gray-500">(Leave blank to keep current)</span>
                    </label>
                    <input type="password" name="password"
                           class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" />
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-briefcase mr-1 text-primary"></i>Position *
                    </label>
                    <input type="text" th:field="*{position}" required
                           class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" />
                </div>
            </div>

            <!-- Hire Date and Manager ID -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-calendar mr-1 text-primary"></i>Hire Date *
                    </label>
                    <input type="date"
                           th:value="${staff.hireDate != null ? #temporals.format(staff.hireDate, 'yyyy-MM-dd') : ''}"
                           name="hireDate" required
                           class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" />
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-user-tie mr-1 text-primary"></i>Manager ID (Optional)
                    </label>
                    <input type="number" th:field="*{managerId}" min="1"
                           placeholder="Enter manager ID"
                           class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" />
                </div>
            </div>

            <!-- Status -->
            <div class="mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-2">
                    <i class="fas fa-toggle-on mr-1 text-primary"></i>Status *
                </label>
                <select th:field="*{isActive}" required
                        class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                    <option th:value="true">Active</option>
                    <option th:value="false">Inactive</option>
                </select>
            </div>

            <!-- Action Buttons -->
            <div class="flex gap-4">
                <button type="submit" class="flex-1 bg-primary text-white px-6 py-2 rounded-md font-medium hover:bg-secondary transition">
                    <i class="fas fa-save mr-2"></i>Update Staff
                </button>
                <a th:href="@{/admin/dashboard}" class="flex-1 bg-gray-200 text-gray-700 px-6 py-2 rounded-md font-medium hover:bg-gray-300 transition text-center">
                    <i class="fas fa-times mr-2"></i>Cancel
                </a>
            </div>
        </form>
    </div>
</main>
</body>
</html>
